@startuml
' https://plantuml.com/class-diagram

skinparam Dpi 150
skinparam shadowing true
skinparam Nodesep 100
skinparam Ranksep 100
skinparam classBackgroundColor #F9F9F9
skinparam classBorderColor #444444
skinparam classArrowColor #555555
skinparam noteBackgroundColor #FFF9C4
skinparam noteBorderColor #E0E0E0
skinparam groupInheritance 1

skinparam defaultFontName "Arial"
skinparam defaultFontSize 14
'skinparam linetype ortho

left to right direction

package "Users"  <<Rectangle>> {

    class User {
        - id : Long
        - name : String
        - email : String
        - birthDate : LocalDate
        - gender : GenderEnum
        - password : String
        - username : String
        + authenticate()
        + changePassword()
        + reportIncident()
    }

    class Moderator {
        - phone : String
    }

    class Address {
        - city : String
        - state : String
        - street : String
        - zipCode : String
    }

    note right of User
        Represents a system user who can
        authenticate, report incidents,
        and participate in discussions.
    end note


}

package "Social"  <<Rectangle>> {
    class BarrierScenario {
        - type : AttitudinalBarrierType
        - author : Moderator
        - content: Text
        - title: String
        - creationDate: LocalDate
        - likes : List<User>
        - comments : List<Comment>
        + addComment
    }

    class Comment {
        - dateTime : DateTime
        - content : Text
        - parentComment : Comment
        - author : User
    }

    note right of BarrierScenario
        Represents real-world attitudinal
        barrier situations, created by moderators.
    end note

    note right of Comment
        User-generated content that allows
        discussion and replies on scenarios.
    end note
}

class Law {
    - code : String
    - date: String
    - link : URL
    - title: String
    - description: Text
}

note right of Law
    Legal information relevant to
    attitudinal barriers and rights.
end note

package "Reports"  <<Rectangle>> {
    class Report {
        - type : AttitudinalBarrierType
        - environment: EnvironmentTypeEnum
        - incidentLocation : Address
        - severity : Integer
        - anonymous : Boolean
        - incidentDetails: Text
        - relatedScenario : BarrierScenario
        - reporter : User
    }

    class Attachment {
        - fileName : String
        - fileType : String
        - filePath : String
        - uploadDate : LocalDateTime
    }

    class ReportReview {
        - description : String
        - date : LocalDate
        - finalStatus : ReportStatus
        - author : Moderator
    }

    note right of Report
        Represents a user-submitted complaint
        about a specific barrier incident.
    end note

    note right of Attachment
        Files (e.g. images, documents) related
        to reports or scenarios for evidence.
    end note

    note left of ReportReview
        Moderator's evaluation and
        decision on a reported incident.
    end note
}

' Inheritance and relationships
User <|-- Moderator

User "1" -- "n" Report : "submits"

ReportReview "n" -- "1" Moderator : "written by"
ReportReview "n" -* "1" Report : "analyzes"

Comment "1" <-- "n" Comment : "replies to"
Comment "n" -- "1" User : "authored by"

Moderator *- Address : "has address"
Moderator "1" -- "0..*" BarrierScenario : "creates"

Report "*" -- "1" BarrierScenario : "describes"
BarrierScenario "1" *-- "0..*" Comment : "has comments"
Law "0..*" -- "0..*" BarrierScenario : "related to"

Report *-- "0..*" Attachment : "includes"
BarrierScenario *-- "0..*" Attachment : "includes"

@enduml
